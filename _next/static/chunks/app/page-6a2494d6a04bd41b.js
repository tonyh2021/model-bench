(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{192:(e,t,a)=>{"use strict";function s(e){let{src:t,width:a,quality:s}=e;return t.startsWith("http")?t:"".concat("/".concat("model-bench")).concat(t)}a.r(t),a.d(t,{default:()=>s})},3690:(e,t,a)=>{"use strict";a.d(t,{Dashboard:()=>em});var s=a(5155),r=a(2115),l=a(6911),n=a(3463),i=a(9795);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,n.$)(t))}let d=l.bL,c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.B8,{ref:t,className:o("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=l.B8.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.l9,{ref:t,className:o("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});m.displayName=l.l9.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.UC,{ref:t,className:o("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});x.displayName=l.UC.displayName;var h=a(8699);let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:o("rounded-xl border bg-card text-card-foreground shadow",a),...r})});u.displayName="Card";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",a),...r})});p.displayName="CardHeader";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:o("font-semibold leading-none tracking-tight",a),...r})});f.displayName="CardTitle";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:o("text-sm text-muted-foreground",a),...r})});g.displayName="CardDescription";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:o("p-6 pt-0",a),...r})});b.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var v=a(1765),y=a(7193);let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(v.bL,{ref:t,className:o("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(v.C1,{className:o("flex items-center justify-center text-current"),children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})})});j.displayName=v.bL.displayName;var N=a(6195),w=a(1027);let k=(0,w.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(N.b,{ref:t,className:o(k(),a),...r})});function C(){let{allModels:e,selectedModelIds:t,toggleModelSelection:a}=(0,h.w)();return(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs sm:text-sm font-medium",children:"Filter by Model"})}),(0,s.jsx)(b,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"model-".concat(e.name),checked:t.includes(e.name),onCheckedChange:()=>a(e.name),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"model-".concat(e.name),className:"text-xs sm:text-sm font-normal leading-tight",children:e.name})]},e.name))})})]})}function M(){let{allTaskTypes:e,selectedTaskTypes:t,toggleTaskTypeSelection:a}=(0,h.w)();return(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs font-medium sm:text-sm",children:"Filter by Modality Type"})}),(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"task-type-".concat(e),checked:t.includes(e),onCheckedChange:()=>a(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"task-type-".concat(e),className:"text-xs font-normal leading-tight sm:text-sm",children:e})]},e))})})]})}function E(){let{allOrgans:e,selectedOrganIds:t,toggleOrganSelection:a}=(0,h.w)();return(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs sm:text-sm font-medium",children:"Filter by Organ"})}),(0,s.jsx)(b,{className:"max-h-[120px] sm:max-h-[180px] overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"organ-".concat(e.id),checked:t.includes(e.id),onCheckedChange:()=>a(e.id),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"organ-".concat(e.id),className:"text-xs sm:text-sm font-normal leading-tight",children:e.name})]},e.id))})})]})}S.displayName=N.b.displayName;var R=a(8868),T=a(719),F=a.n(T);function L(e){let{chartType:t="organ"}=e,{getFilteredTasks:a,allTaskTypes:l}=(0,h.w)(),[n,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=F()(()=>{let e=window.innerWidth;i(e<768),d(e>=768&&e<1600)},150);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[]);let c=(0,r.useMemo)(()=>{let e=a();if(0===e.length)return{title:{text:"No tasks available",left:"center"},tooltip:{},series:[]};if("organ"===t)return{animation:!0,animationDuration:400,animationEasing:"cubicOut",animationThreshold:2e3,progressive:500,progressiveThreshold:3e3,silent:!1,blendMode:"source-over",hoverLayerThreshold:10,title:{text:"Task Distribution by Organ",top:n?"2%":"1%",left:"center",textStyle:{fontSize:n?14:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",confine:!0,enterable:!0},legend:{orient:"vertical",left:n?5:10,top:"30%",bottom:void 0,type:"scroll",z:0,textStyle:{fontSize:n?13:16,color:"#333"},itemWidth:n?12:16,itemHeight:n?12:16,itemGap:n?8:15,pageButtonPosition:"end",pageButtonGap:5,pageIconSize:12},series:[{name:"Organ Distribution",type:"pie",radius:n?["35%","65%"]:["40%","70%"],center:n?["70%","55%"]:["65%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{scale:!0,scaleSize:5,label:{show:!0,fontSize:n?14:16,fontWeight:"bold"}},labelLine:{show:!1},data:Object.entries(e.reduce((e,t)=>(e[t.organ]=(e[t.organ]||0)+1,e),{})).map(e=>{let[t,a]=e;return{name:t,value:a}}),silent:!1,animationType:"expansion",animationTypeUpdate:"transition",animationDuration:400,animationEasing:"cubicOut"}]};{let t={};return e.forEach(e=>{let a=e.taskType;t[a]=(t[a]||0)+1}),{animation:!0,animationDuration:600,animationEasing:"cubicOut",animationDelay:function(e){return 50*e},animationDurationUpdate:300,animationEasingUpdate:"cubicOut",title:{text:"Task Distribution by Type",top:n?"2%":"1%",left:"center",textStyle:{fontSize:n?14:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:5*!!n,top:"37.5%",bottom:void 0,type:"scroll",z:0,textStyle:{fontSize:n?13:16,color:"#333"},itemWidth:n?12:16,itemHeight:n?12:16,itemGap:n?8:15},series:[{name:"Task Type Distribution",type:"pie",radius:n?["35%","65%"]:["40%","70%"],center:n?["70%","55%"]:["65%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:n?14:16,fontWeight:"bold"}},labelLine:{show:!1},data:l.filter(e=>t[e]>0).map(e=>({name:e,value:t[e]}))}]}}},[a,l,t,n,o]),m=(0,r.useCallback)(e=>{e.setOption({progressive:500,progressiveThreshold:3e3,silent:!1,blendMode:"source-over",hoverLayerThreshold:10})},[]);return(0,s.jsx)(u,{className:"h-[250px] w-full sm:h-[350px]",children:(0,s.jsx)(b,{className:"h-[250px] p-2 sm:h-[350px] sm:p-6",children:(0,s.jsx)(R.A,{option:c,style:{height:"100%",width:"100%"},opts:{renderer:"canvas",devicePixelRatio:n?1:2},notMerge:!0,lazyUpdate:!0,showLoading:!1,onChartReady:m})})})}var z=a(2317);let A=(0,w.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),I=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:n=!1,...i}=e,d=n?z.DX:"button";return(0,s.jsx)(d,{className:o(A({variant:r,size:l,className:a})),ref:t,...i})});function D(e){let{selectedMetrics:t=[]}=e,{getFilteredPerformances:a,getFilteredModels:l,getTaskById:n}=(0,h.w)(),[i,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=F()(()=>{let e=window.innerWidth;o(e<768),c(e>=768&&e<1024)},150);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[]);let v=(0,r.useMemo)(()=>{let e;let s=a(),r=l();if(0===s.length)return{animation:!1,title:{text:"No data available",left:"center"},tooltip:{},xAxis:[{type:"category",data:[]}],yAxis:[{type:"category",data:[]}],series:[{sampling:"lttb"}]};let o=new Set,c=[...new Set(s.map(e=>e.taskId))].map(e=>{let t=n(e),a=s.filter(t=>t.taskId===e),r=new Set;return a.forEach(e=>{void 0!==e.metrics&&null!==e.metrics&&(r.add(e.metrics),o.add(e.metrics))}),{id:e,name:t?"".concat(t.name,"(").concat(t.organ,")<br/>").concat(t.evaluationMetrics[0]):e,availableMetrics:Array.from(r),task:t}}).filter(e=>e.availableMetrics.length>0).sort((e,t)=>t.name.localeCompare(e.name)),x=Array.from(o);e=0===t.length||t.length===x.length&&t.every(e=>x.includes(e))?c:c.filter(e=>t.some(t=>e.availableMetrics.includes(t)));let h=new Map,u=new Map;s.forEach(e=>{let t="".concat(e.taskId,"-").concat(e.modelId);u.set(t,e)}),e.forEach(e=>{let t=r.map(t=>{var a;let s="".concat(e.id,"-").concat(t.name),r=u.get(s);return{modelName:t.name,rank:null!==(a=null==r?void 0:r.rank)&&void 0!==a?a:1/0}});t.some(e=>e.rank!==1/0)&&t.sort((e,t)=>e.rank-t.rank),h.set(e.id,t)});let p=new Map,f=r.map(t=>{let a=[],s=0,r=0;return e.forEach(e=>{let l=h.get(e.id),n=l.findIndex(e=>e.modelName===t.name),i=n+1,o="".concat(e.id,"-").concat(t.name);p.set(o,i),i>0&&l[n].score!==-1/0?(a.push(i),s+=i,r+=1):a.push(-1)}),{name:t.name,rankings:a,averageRank:r>0?s/r:1/0,taskCount:r}});f.sort((e,t)=>e.averageRank-t.averageRank);let g=i&&!m?5:f.length,b=f.slice(0,g),v=e=>{let t=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#6e7074"];return t[e%t.length]},y=[],j=1;for(let e=0;e<b.length;e++){let t=b[e];for(let a=0;a<t.rankings.length;a++){let s=t.rankings[a];s>0&&(y.push([a,e,s]),s>j&&(j=s))}}let N=r.length,w=Math.max(N,Math.ceil(Math.max(...b.map(e=>e.averageRank)))),k=b.map((e,t)=>{let a=w-e.averageRank+1;return{value:a>0?a:0,itemStyle:{color:v(t),borderRadius:[4,4,0,0],borderColor:"rgba(0,0,0,0.1)",borderWidth:1,shadowBlur:3,shadowColor:"rgba(0,0,0,0.2)",opacity:.9},originalRank:e.averageRank}}),S=i?200:d?250:350,C=i?25:d?30:40,M=e.length*C;return{animation:!0,animationDuration:400,animationEasing:"cubicOut",animationThreshold:2e3,progressive:500,progressiveThreshold:3e3,silent:!1,blendMode:"source-over",hoverLayerThreshold:10,tooltip:{position:"top",formatter:t=>{if("heatmap"===t.seriesType){let a=t.data,s=b[a[0]].name,r=e[a[1]].name,l=a[2];return"".concat(s,"<br/>").concat(r,"<br/>Rank: ").concat(l)}{let e=b[t.dataIndex];return"".concat(e.name,"<br/>Average Rank: ").concat(e.averageRank.toFixed(2))}},textStyle:{fontSize:i?12:14}},grid:i?[{left:"12%",right:"12%",top:100,height:S},{left:"12%",right:"12%",top:100+S+50,height:M}]:[{left:"8%",right:"8%",top:100,height:S},{left:"8%",right:"8%",top:100+S+50,height:M}],xAxis:i?[{type:"category",data:b.map(e=>e.name),position:"top",gridIndex:0,axisLabel:{rotate:45,interval:0,fontSize:10,align:"left",padding:[6,0,0,0]}},{type:"category",data:b.map(e=>e.name),position:"top",gridIndex:1,axisLabel:{show:!1}}]:[{type:"category",data:b.map(e=>e.name),position:"top",gridIndex:0,axisLabel:{rotate:45,interval:0,fontSize:d?12:14,align:"left",padding:[10,0,0,0]}},{type:"category",data:b.map(e=>e.name),position:"top",gridIndex:1,axisLabel:{show:!1}}],yAxis:i?[{type:"value",name:"Average Rank",nameLocation:"middle",nameGap:30,nameTextStyle:{fontSize:12,fontWeight:"bold"},inverse:!1,gridIndex:0,max:w,axisLabel:{fontSize:10,formatter:function(e){return(w-e+1).toFixed(1)}},splitLine:{lineStyle:{type:"dashed",color:"#ddd"}}},{type:"category",name:"Tasks",nameLocation:"middle",nameGap:40,nameTextStyle:{fontSize:12,fontWeight:"bold"},data:e.map(e=>e.name),gridIndex:1,axisLabel:{show:!1},axisTick:{show:!1}}]:[{type:"value",name:"Average Rank",nameLocation:"middle",nameGap:45,nameTextStyle:{fontSize:d?14:16,fontWeight:"bold"},inverse:!1,gridIndex:0,max:w,axisLabel:{fontSize:d?12:14,formatter:function(e){return(w-e+1).toFixed(1)}},splitLine:{lineStyle:{type:"dashed",color:"#ddd"}}},{type:"category",name:"Tasks",nameLocation:"middle",nameGap:50,nameTextStyle:{fontSize:d?14:16,fontWeight:"bold"},data:e.map(e=>e.name),gridIndex:1,axisLabel:{show:!1},axisTick:{show:!1}}],visualMap:i?{min:1,max:N,calculable:!1,orient:"horizontal",left:"center",top:100+S+5,textStyle:{fontSize:9},itemGap:8,itemWidth:12,itemHeight:10,textGap:3,pieces:[{value:1,color:"#FFD700",label:"1st"},{value:2,color:"#C0C0C0",label:"2nd"},{value:3,color:"#CD7F32",label:"3rd"},{min:4,max:Math.min(10,N),color:"#E3F2FD",label:N<=10?"4+":"4-10"},...N>10?[{min:11,max:Math.min(15,N),color:"#90CAF9",label:N<=15?"11+":"11-15"},...N>15?[{min:16,max:N,color:"#1976D2",label:"16+"}]:[]]:[]]}:{min:1,max:N,calculable:!1,orient:"vertical",left:"right",top:340,textStyle:{fontSize:d?12:14},itemGap:6,itemWidth:20,itemHeight:14,pieces:[{value:1,color:"#FFD700",label:"1st"},{value:2,color:"#C0C0C0",label:"2nd"},{value:3,color:"#CD7F32",label:"3rd"},{min:4,max:Math.min(10,N),color:"#E3F2FD",label:N<=10?"4+":"4-10"},...N>10?[{min:11,max:Math.min(15,N),color:"#90CAF9",label:N<=15?"11+":"11-15"},...N>15?[{min:16,max:N,color:"#1976D2",label:"16+"}]:[]]:[]]},series:i?[{name:"Average Rank",type:"bar",data:k,label:{show:!0,position:"bottom",distance:-15,formatter:e=>{let t=b[e.dataIndex];return"".concat(t.averageRank.toFixed(1))},rotate:0,fontSize:10},xAxisIndex:0,yAxisIndex:0},{name:"Rankings",type:"heatmap",data:y.map(e=>{let[t,a,s]=e;return[a,t,s]}),animation:!1,itemStyle:{borderWidth:.5,borderColor:"rgba(255,255,255,0.3)"},label:{show:!0,formatter:e=>String(e.data[2]),fontSize:10,fontWeight:"bold",color:"#000",textBorderColor:"rgba(255,255,255,0.5)",textBorderWidth:1},emphasis:{disabled:!0},xAxisIndex:1,yAxisIndex:1}]:[{name:"Average Rank",type:"bar",data:k,label:{show:!0,position:"bottom",distance:-25,formatter:e=>{let t=b[e.dataIndex];return"".concat(t.averageRank.toFixed(2))},rotate:0,fontSize:d?12:14},xAxisIndex:0,yAxisIndex:0},{name:"Rankings",type:"heatmap",data:y.map(e=>{let[t,a,s]=e;return[a,t,s]}),animation:!1,itemStyle:{borderWidth:.5,borderColor:"rgba(255,255,255,0.3)"},label:{show:!0,formatter:e=>String(e.data[2]),fontSize:d?12:14,fontWeight:"bold",color:"#000",textBorderColor:"rgba(255,255,255,0.5)",textBorderWidth:2},emphasis:{disabled:!0},xAxisIndex:1,yAxisIndex:1}]}},[a,l,n,t,i,d,m]),y=(0,r.useMemo)(()=>{let e=[...new Set(a().filter(e=>0===t.length?void 0!==e.metrics&&null!==e.metrics:t.some(t=>void 0!==e.metrics&&null!==e.metrics)).map(e=>e.taskId))];return i?Math.max(500,200+25*e.length+200):Math.max(800,350+40*e.length+300)},[a,t,i]),j=l().length,N=(0,r.useCallback)(e=>{e.setOption({progressive:500,progressiveThreshold:3e3,silent:!1,blendMode:"source-over",hoverLayerThreshold:10})},[]);return(0,s.jsxs)(u,{className:"w-full overflow-hidden",children:[(0,s.jsxs)(p,{className:"pb-3 sm:pb-6",children:[(0,s.jsx)(f,{className:"text-lg sm:text-xl",children:"Model Ranking Analysis"}),(0,s.jsx)(g,{className:"text-xs sm:text-sm",children:(()=>{let e=new Set;a().forEach(t=>{void 0!==t.metrics&&null!==t.metrics&&e.add(t.metrics)});let s=Array.from(e),r=0===t.length||t.length===s.length&&t.every(e=>s.includes(e))?"Overall":t.join(", ");return i?"".concat(r," rankings"):"Top: Average rankings across tasks | Bottom: Detailed rankings per task (".concat(r,")")})()}),i&&j>5&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsxs)(I,{variant:m?"default":"outline",size:"sm",onClick:()=>x(!m),className:"text-xs",children:["Show All ",j," Models"]})})]}),(0,s.jsx)(b,{className:"overflow-auto p-2 sm:p-6",style:{height:i?"auto":"calc(100vh)",maxHeight:"".concat(y,"px")},children:(0,s.jsx)(R.A,{option:v,style:{height:"".concat(y-100,"px"),width:"100%",minHeight:"".concat(y-100,"px")},opts:{renderer:"canvas",devicePixelRatio:i?1:2},notMerge:!0,lazyUpdate:!0,showLoading:!1,onChartReady:N})})]})}function O(e){let{selectedMetrics:t=[]}=e,{getFilteredTasks:a,getFilteredPerformances:l}=(0,h.w)(),[n,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=F()(()=>{let e=window.innerWidth;i(e<768),d(e>=768&&e<1600)},150);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[]);let c=(0,r.useMemo)(()=>{let e=a(),s=l();if(0===e.length||0===s.length)return{title:{text:"No tasks available",left:"center"},tooltip:{},series:[]};let r=new Set(e.map(e=>e.id)),i=new Set,o={};s.forEach(e=>{if(r.has(e.taskId)){let t=e.metrics;null!=t&&(i.add(t),o[t]||(o[t]=new Set),o[t].add(e.taskId))}});let d=Array.from(i);return{animation:!0,animationDuration:400,animationEasing:"cubicOut",animationThreshold:2e3,progressive:500,progressiveThreshold:3e3,silent:!1,blendMode:"source-over",hoverLayerThreshold:10,title:{text:"Task Distribution by Metric",top:n?"2%":"1%",left:"center",textStyle:{fontSize:n?14:18,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} Tasks ({d}%)",confine:!0,enterable:!0},legend:{orient:"vertical",left:n?5:10,top:"47.5%",bottom:void 0,type:"scroll",z:0,textStyle:{fontSize:n?13:16,color:"#333"},itemWidth:n?12:16,itemHeight:n?12:16,itemGap:n?8:15,pageButtonPosition:"end",pageButtonGap:5,pageIconSize:12},series:[{name:"Task Distribution",type:"pie",radius:n?["35%","65%"]:["40%","70%"],center:n?["70%","55%"]:["65%","55%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{scale:!0,scaleSize:5,label:{show:!0,fontSize:n?14:16,fontWeight:"bold"}},labelLine:{show:!1},data:(0===t.length||t.length===d.length&&t.every(e=>d.includes(e))?d:t).filter(e=>{var t;return(null===(t=o[e])||void 0===t?void 0:t.size)>0}).map(e=>({name:e,value:o[e].size})),silent:!1,animationType:"expansion",animationTypeUpdate:"transition",animationDuration:400,animationEasing:"cubicOut"}]}},[a,l,t,n,o]),m=(0,r.useCallback)(e=>{e.setOption({progressive:500,progressiveThreshold:3e3,silent:!1,blendMode:"source-over",hoverLayerThreshold:10})},[]);return(0,s.jsx)(u,{className:"h-[250px] w-full sm:h-[350px]",children:(0,s.jsx)(b,{className:"h-[250px] p-2 sm:h-[350px] sm:p-6",children:(0,s.jsx)(R.A,{option:c,style:{height:"100%",width:"100%"},opts:{renderer:"canvas",devicePixelRatio:n?1:2},notMerge:!0,lazyUpdate:!0,showLoading:!1,onChartReady:m})})})}I.displayName="Button";let W=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});W.displayName="Input";var B=a(1536),_=a(4126),V=a(8815);let P=(0,r.memo)(function(e){let{taskName:t,organ:a,cohort:l,modelStats:n,selectedMetric:i}=e,o=(0,r.useMemo)(()=>{if(!n||0===n.length)return{animation:!1,title:{text:"No data available for ".concat(l),left:"center",textStyle:{fontSize:14,color:"#666"}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]};let e=n.map(e=>(null==e?void 0:e.modelName)||""),t=n.map(e=>(null==e?void 0:e.mean)||0);n.map(e=>(null==e?void 0:e.std)||0);let a=t.concat(n.flatMap(e=>(null==e?void 0:e.values)||[])),s=Math.min(...a),r=Math.max(...a),o=r-s,d=Math.max(0,s-.1*o),c=r+.1*o,m=[];return n.forEach((e,t)=>{e&&e.values&&e.values.forEach(e=>{m.push([t,e])})}),{animation:!0,animationDuration:200,animationEasing:"cubicOut",animationDelay:function(e){return 8*e},animationDurationUpdate:100,animationEasingUpdate:"cubicOut",backgroundColor:"#fafafa",tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e5e7eb",borderWidth:1,textStyle:{color:"#374151"},formatter:function(e){if(Array.isArray(e)&&e.length>0){let t=n[e[0].dataIndex];if(t)return'\n                <div style="font-weight: bold; margin-bottom: 8px;">'.concat(t.modelName,'</div>\n                <div>Mean: <span style="font-weight: bold;">').concat(t.mean.toFixed(3),"</span></div>\n                <div>Std: ").concat(t.std.toFixed(3),"</div>\n                <div>Range: ").concat(t.min.toFixed(3)," - ").concat(t.max.toFixed(3),"</div>\n                <div>Folds: ").concat(t.values.length,"</div>\n              ")}return""}},grid:{left:"12%",right:"5%",bottom:"7%",top:"5%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{rotate:45,fontSize:11,color:"#374151",interval:0},axisLine:{lineStyle:{color:"#d1d5db"}},axisTick:{lineStyle:{color:"#d1d5db"}}},yAxis:{type:"value",name:i,nameLocation:"middle",nameGap:60,nameTextStyle:{fontSize:14,color:"#374151",fontWeight:"bold"},min:d,max:c,axisLabel:{formatter:function(e){return e.toFixed(3)},fontSize:11,color:"#374151",showMinLabel:!0,showMaxLabel:!0,margin:10},splitNumber:(()=>{let e=c-d;return e<.05?3:e<.1?4:e<.2?5:6})(),...(()=>{let e=c-d;return e<.05?{interval:(c-d)/2}:e<.1?{interval:(c-d)/3}:{}})(),axisLine:{lineStyle:{color:"#d1d5db"}},axisTick:{lineStyle:{color:"#d1d5db"}},splitLine:{lineStyle:{color:"#e5e7eb",type:"dashed"}}},series:[{name:"Mean Performance",type:"bar",data:t.map((e,t)=>{let a=["#67001F","#981328","#B72C34","#C5413F","#CF5349","#D86654","#D96856","#EC9578","#F6B89C","#F7BB9F","#F7BCA0","#FAD3BE","#F8EAE3","#F6EDE8","#E5EEF2","#E4EDF2","#96C6DF","#8DC1DC","#053061"],s=t%a.length,r=a[s];return{value:e,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:r},{offset:1,color:r}]},borderRadius:[2,2,0,0],shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:4,shadowOffsetY:2}}}),barWidth:"65%",z:1,emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:8,shadowOffsetY:4}}}]}},[n,i,l]);return(0,s.jsxs)(u,{className:"w-full shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,s.jsxs)(p,{className:"pb-2 pt-3 sm:pt-4",children:[(0,s.jsx)(f,{className:"text-base sm:text-lg text-gray-900 leading-tight",children:t}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[a," • ",n.length," models • ",i," • ",l]})]}),(0,s.jsx)(b,{className:"pb-2 pt-2 px-2 sm:px-6",children:(0,s.jsx)("div",{className:"h-[250px] sm:h-[350px]",children:(0,s.jsx)(R.A,{option:o,style:{height:"100%",width:"100%"},opts:{renderer:"canvas",devicePixelRatio:window.innerWidth<768?1:1.5},notMerge:!0,lazyUpdate:!0})})})]})});function G(e){let{taskId:t,taskName:a,organ:l}=e,n=(0,r.useMemo)(()=>{var e;let a=_.C.filter(e=>e.taskId===t);if(0===a.length)return[];let s=Object.keys((null===(e=a[0])||void 0===e?void 0:e.metrics)||{})[0];if(!s)return[];let r=V.v.find(e=>e.id===t),l=(null==r?void 0:r.cohort)||"unknown",n=new Map;a.forEach(e=>{n.has(l)||n.set(l,[]),n.get(l).push(e)});let i=[];for(let[e,t]of n.entries()){let a=t.map(t=>{let a=t.rankMean;return{modelName:t.modelId,mean:a,cohort:e}}).filter(Boolean);a.sort((e,t)=>((null==t?void 0:t.mean)||0)-((null==e?void 0:e.mean)||0)),a.length>0&&i.push({cohort:e,modelStats:a,selectedMetric:s})}return i},[t]);return 0===n.length?(0,s.jsxs)(u,{className:"w-full shadow-sm border border-gray-200",children:[(0,s.jsx)(p,{children:(0,s.jsx)(f,{className:"text-lg text-gray-900",children:a})}),(0,s.jsx)(b,{className:"h-64 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No data available for this task"})})]}):(0,s.jsx)(s.Fragment,{children:n.map(e=>(0,s.jsx)(P,{taskName:a,organ:l,cohort:e.cohort,modelStats:e.modelStats,selectedMetric:e.selectedMetric},"".concat(t,"-").concat(e.cohort)))})}function H(e){let{children:t,height:a=400,rootMargin:l="100px",threshold:n=.1,placeholder:i}=e,[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),x=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=x.current;if(!e)return;if(!window.IntersectionObserver){d(!0),m(!0);return}let t=new IntersectionObserver(e=>{let[a]=e;a.isIntersecting&&!c&&(setTimeout(()=>{d(!0),m(!0)},50),t.unobserve(a.target))},{rootMargin:l,threshold:n});return t.observe(e),()=>{t.unobserve(e)}},[l,n,c]);let h=(0,s.jsx)("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg animate-pulse",style:{height:"".concat(a,"px")},children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-4 w-3/4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,s.jsxs)("div",{className:"space-y-3 mt-8",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})});return(0,s.jsx)("div",{ref:x,style:{minHeight:c?"auto":"".concat(a,"px")},children:o?t:i||h})}var U=a(987);function J(){let[e,t]=(0,r.useState)(""),[a,l]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[c,m]=(0,r.useState)(!1),x=(0,r.useMemo)(()=>[...new Set(V.v.map(e=>e.organ))].sort(),[]),h=(0,r.useMemo)(()=>[...new Set(V.v.map(e=>e.taskType))].sort(),[]),g=(0,r.useMemo)(()=>[...new Set(V.v.map(e=>e.cohort))].sort(),[]),v=(0,r.useMemo)(()=>V.v.filter(t=>{let s=t.name.toLowerCase().includes(e.toLowerCase())||t.organ.toLowerCase().includes(e.toLowerCase())||t.taskType.toLowerCase().includes(e.toLowerCase()),r=0===a.length||a.includes(t.organ),l=0===n.length||n.includes(t.taskType),i=0===o.length||o.includes(t.cohort);return s&&r&&l&&i}),[e,a,n,o]),y=(0,r.useMemo)(()=>{let e=new Map;v.forEach(t=>{e.has(t.organ)||e.set(t.organ,[]),e.get(t.organ).push(t)});let t=Array.from(e.keys()).sort(),a=[];return t.forEach(t=>{let s=e.get(t).sort((e,t)=>e.name.localeCompare(t.name));a.push({organ:t,tasks:s})}),a},[v]),N=()=>{t(""),l([]),i([]),d([])},w=e=>{l(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},k=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},C=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},M=e||a.length>0||n.length>0||o.length>0;return(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between sm:gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Detailed Performance"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600 sm:text-base",children:"Comprehensive performance analysis across all tasks and metrics"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"text-xs text-gray-500 sm:text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:U.J.length})," ","models •",(0,s.jsx)("span",{className:"ml-1 font-medium",children:v.length})," ","tasks",M&&(0,s.jsxs)("span",{className:"ml-1 text-blue-600",children:["(filtered from ",V.v.length,")"]})]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(B.KSO,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),(0,s.jsx)(W,{placeholder:"Search tasks by name, organ, or type...",value:e,onChange:e=>t(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("div",{className:"flex flex-shrink-0 gap-2",children:[(0,s.jsxs)(I,{variant:"outline",onClick:()=>m(!c),className:"flex items-center gap-1 px-2 sm:gap-2 sm:px-4",children:[(0,s.jsx)(B.YsJ,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),M&&(0,s.jsx)("span",{className:"ml-0.5 min-w-[18px] rounded-full bg-blue-500 px-1.5 py-0.5 text-center text-xs text-white sm:ml-1",children:[a.length,n.length,o.length].filter(e=>e>0).length})]}),M&&(0,s.jsxs)(I,{variant:"ghost",onClick:N,className:"flex items-center gap-1 px-2 text-gray-600 hover:text-gray-900 sm:gap-2 sm:px-4",children:[(0,s.jsx)(B.QCr,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]})]})]}),c&&(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs font-medium sm:text-sm",children:"Filter by Organ"})}),(0,s.jsx)(b,{className:"max-h-[120px] overflow-y-auto sm:max-h-[180px]",children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:x.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"organ-".concat(e),checked:a.includes(e),onCheckedChange:()=>w(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"organ-".concat(e),className:"text-xs font-normal leading-tight sm:text-sm",children:e})]},e))})})]}),(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs font-medium sm:text-sm",children:"Filter by Modality Type"})}),(0,s.jsx)(b,{className:"max-h-[120px] overflow-y-auto sm:max-h-[180px]",children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:h.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"tasktype-".concat(e),checked:n.includes(e),onCheckedChange:()=>k(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"tasktype-".concat(e),className:"text-xs font-normal leading-tight sm:text-sm",children:e})]},e))})})]}),(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs font-medium sm:text-sm",children:"Filter by Cohort"})}),(0,s.jsx)(b,{className:"max-h-[120px] overflow-y-auto sm:max-h-[180px]",children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:g.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"cohort-".concat(e),checked:o.includes(e),onCheckedChange:()=>C(e),className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"cohort-".concat(e),className:"text-xs font-normal leading-tight sm:text-sm",children:e})]},e))})})]})]})]}),0===y.length?(0,s.jsx)(u,{className:"w-full border border-gray-200 shadow-sm",children:(0,s.jsxs)(b,{className:"flex h-64 flex-col items-center justify-center text-center",children:[(0,s.jsx)(B.KSO,{className:"mb-4 h-12 w-12 text-gray-300"}),(0,s.jsx)("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No tasks found"}),(0,s.jsx)("p",{className:"mb-4 text-gray-500",children:M?"Try adjusting your search terms or filters to find tasks.":"No tasks are available to display."}),M&&(0,s.jsxs)(I,{variant:"outline",onClick:N,className:"flex items-center gap-2",children:[(0,s.jsx)(B.QCr,{className:"h-4 w-4"}),"Clear all filters"]})]})}):y.map(e=>{let{organ:t,tasks:a}=e;return(0,s.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,s.jsxs)("h2",{className:"border-b pb-2 text-xl font-bold text-gray-900 sm:text-2xl",children:[t,(0,s.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",a.length," task",1!==a.length?"s":"",")"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 xl:grid-cols-2",children:a.map(e=>(0,s.jsx)(H,{height:450,rootMargin:"200px",threshold:.1,placeholder:(0,s.jsx)("div",{className:"h-[450px] w-full animate-pulse rounded-lg border border-gray-200 bg-gray-50",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("div",{className:"mb-2 h-6 w-3/4 rounded bg-gray-200"}),(0,s.jsx)("div",{className:"mb-6 h-4 w-1/2 rounded bg-gray-200"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"h-8 w-full rounded bg-gray-200"}),(0,s.jsx)("div",{className:"h-8 w-5/6 rounded bg-gray-200"}),(0,s.jsx)("div",{className:"h-8 w-4/6 rounded bg-gray-200"}),(0,s.jsx)("div",{className:"h-8 w-3/6 rounded bg-gray-200"})]})]})}),children:(0,s.jsx)(G,{taskId:e.id,taskName:e.name,organ:t})},e.id))})]},t)})]})}function Y(e){let{value:t,onChange:a}=e,{getAvailableMetrics:l,getFilteredTasks:n}=(0,h.w)(),i=l(),o=n(),d=(()=>{if(0===o.length)return i;let e=new Set;return o.forEach(t=>{t.evaluationMetrics.forEach(t=>e.add(t))}),Array.from(e)})(),c=e=>{a(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return r.useEffect(()=>{let e=t.filter(e=>d.includes(e));e.length!==t.length&&a(e)},[d,t,a]),(0,s.jsxs)(u,{children:[(0,s.jsx)(p,{className:"pb-2 sm:pb-3",children:(0,s.jsx)(f,{className:"text-xs sm:text-sm font-medium",children:"Select Metric"})}),(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:i.map(e=>{let a=d.includes(e);return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(j,{id:"metric-".concat(e),checked:t.includes(e),onCheckedChange:()=>c(e),disabled:!a,className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,s.jsx)(S,{htmlFor:"metric-".concat(e),className:"text-xs sm:text-sm leading-tight ".concat(a?"cursor-pointer":"cursor-not-allowed text-gray-400"),children:e.replace("_"," ")})]},e)})})})]})}function Q(){let e=(0,r.useRef)(null),[t,a]=(0,r.useState)(""),[l,n]=(0,r.useState)({buildTimestamp:"2025-06-09 18:15:43"});return(0,r.useEffect)(()=>(console.log("Last updated: ".concat(l.buildTimestamp," UTC")),a(new Date().getFullYear().toString()),l.buildTimestamp||n({buildTimestamp:new Date().toISOString().replace("T"," ").substring(0,19)}),(()=>{if("undefined"==typeof document)return;let t=document.createElement("script");t.type="text/javascript",t.id="clustrmaps",t.src="//clustrmaps.com/map_v2.js?d=6JsXBcGcARt_EW18e64lIGhVpCxBw31yOysM5PYFNBw&cl=ffffff&w=a",t.async=!0,e.current&&e.current.appendChild(t)})(),()=>{if("undefined"!=typeof document){let e=document.getElementById("clustrmaps");e&&e.remove()}}),[l.buildTimestamp]),(0,s.jsx)("footer",{className:"mt-8 w-full border-t sm:mt-12",children:(0,s.jsxs)("div",{className:"flex min-h-[200px] w-full flex-col items-center justify-center",children:[(0,s.jsx)("div",{ref:e,style:{width:"200px",height:"150px"},className:"mt-5 flex items-center justify-center"}),(0,s.jsx)("div",{className:"mt-3 flex justify-center px-4 pb-1",children:(0,s.jsxs)("p",{className:"text-center text-xs text-muted-foreground",suppressHydrationWarning:!0,children:["\xa9 ",t||"2025"," University of Toronto"]})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("p",{className:"text-center text-xs text-muted-foreground",suppressHydrationWarning:!0,children:["Inspired by"," ",(0,s.jsx)("a",{href:"https://github.com/birkhoffkiki/PathBench/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"PathBench"})]})})]})})}let K=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:o("w-full caption-bottom text-sm",a),...r})})});K.displayName="Table";let X=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:o("[&_tr]:border-b",a),...r})});X.displayName="TableHeader";let $=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:o("[&_tr:last-child]:border-0",a),...r})});$.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let q=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:o("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});q.displayName="TableRow";let Z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:o("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...r})});Z.displayName="TableHead";let ee=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:o("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...r})});ee.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:o("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";let et=(0,w.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ea(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:o(et({variant:a}),t),...r})}var es=a(8346),er=a(2488),el=a(2645);function en(){let{getFilteredModels:e,getFilteredPerformances:t,getFilteredTasks:a}=(0,h.w)(),l=e(),n=t(),i=a(),[o,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),x=e=>l.map(t=>{var a;let s=n.find(a=>a.modelId===t.name&&a.taskId===e.id);return{model:t,average:null!==(a=null==s?void 0:s.rankMean)&&void 0!==a?a:-1/0}}).filter(e=>null!==e.average).sort((e,t)=>t.average-e.average).slice(0,5).map(e=>e.model),g=e=>{o===e?(m("asc"===c?"desc":"desc"===c?null:"asc"),"desc"===c&&d(null)):(d(e),m("asc"))},v=(e,t)=>null===e?"none":1===t?"gold":2===t?"silver":3===t?"bronze":"standard",y=e=>{let{field:t}=e;return o!==t?(0,s.jsx)(es.A,{className:"ml-1 h-3 w-3 text-muted-foreground"}):"asc"===c?(0,s.jsx)(er.A,{className:"ml-1 h-3 w-3"}):(0,s.jsx)(el.A,{className:"ml-1 h-3 w-3"})},j=[...i].sort((e,t)=>{if(!o||!c)return 0;let a="",s="";return("taskName"===o?(a=e.name,s=t.name):"cohort"===o&&(a=e.cohort,s=t.cohort),"string"==typeof a&&"string"==typeof s)?"asc"===c?a.localeCompare(s):s.localeCompare(a):"asc"===c?Number(a)-Number(s):Number(s)-Number(a)});return(0,s.jsxs)(u,{className:"shadow-lg border-0 bg-gradient-to-br from-slate-50 to-white",children:[(0,s.jsxs)(p,{className:"pb-3 sm:pb-4 border-b border-slate-200/60",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(f,{className:"text-xl sm:text-2xl font-bold text-slate-800 tracking-tight",children:"Performance Leaderboard"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:"Comparative Analysis of Model Performance Across Tasks"})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-3 sm:gap-3 text-xs sm:text-sm w-full sm:w-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 rounded-lg border border-blue-200 flex-1 sm:flex-none justify-center sm:justify-start",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,s.jsx)("span",{className:"font-semibold text-blue-700",children:l.length}),(0,s.jsx)("span",{className:"text-blue-600",children:"Models"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-50 rounded-lg border border-emerald-200 flex-1 sm:flex-none justify-center sm:justify-start",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),(0,s.jsx)("span",{className:"font-semibold text-emerald-700",children:j.length}),(0,s.jsx)("span",{className:"text-emerald-600",children:"Tasks"})]})]})]}),(0,s.jsxs)("div",{className:"text-xs sm:text-sm text-slate-500 mt-3 hidden sm:flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,s.jsx)("span",{children:"Click column headers to sort"}),(0,s.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,s.jsx)("span",{children:"Displaying top 5 performing models per task"})]})]}),(0,s.jsxs)(b,{className:"p-0 pt-2 sm:pt-0",children:[(0,s.jsx)("div",{className:"block sm:hidden",children:(0,s.jsx)("div",{className:"space-y-4 px-4 pt-2 pb-4",children:j.map(e=>(0,s.jsx)(u,{className:"border-0 shadow-md bg-gradient-to-br from-white to-slate-50",children:(0,s.jsxs)(b,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-800 text-sm leading-tight mb-2",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 rounded-md font-medium capitalize",children:e.taskType.replace("_"," ")}),(0,s.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,s.jsx)("span",{className:"font-semibold text-blue-600",children:e.organ})]})]}),(0,s.jsx)(ea,{variant:"outline",className:"text-xs px-2 py-1 bg-emerald-50 text-emerald-700 border-emerald-200 font-semibold ml-3",children:e.cohort})]}),(0,s.jsx)("div",{className:"space-y-2",children:x(e).slice(0,3).map((t,a)=>{var r;let l=n.find(a=>a.modelId===t.name&&a.taskId===e.id),i=null!==(r=null==l?void 0:l.rankMean)&&void 0!==r?r:-1/0,o=(e=>{switch(e){case 1:return{icon:"\uD83E\uDD47",text:"#1"};case 2:return{icon:"\uD83E\uDD48",text:"#2"};case 3:return{icon:"\uD83E\uDD49",text:"#3"};default:return{icon:"",text:"#".concat(e)}}})(a+1);return(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-white rounded-lg border border-slate-200/60 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 min-w-[45px]",children:[o.icon&&(0,s.jsx)("span",{className:"text-base",children:o.icon}),(0,s.jsx)("span",{className:"text-xs font-bold text-slate-600",children:o.text})]}),(0,s.jsx)("span",{className:"text-slate-800 text-sm font-bold",children:t.name})]}),(0,s.jsx)("span",{className:"text-sm font-mono font-bold text-slate-700 bg-slate-100 px-2 py-1 rounded",children:"number"==typeof i?i.toFixed(3):"N/A"})]},t.name)})})]})},e.id))})}),(0,s.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,s.jsxs)(K,{className:"min-w-[1000px]",children:[(0,s.jsx)(X,{children:(0,s.jsxs)(q,{className:"bg-gradient-to-r from-slate-100 to-slate-50 border-b-2 border-slate-200",children:[(0,s.jsx)(Z,{onClick:()=>g("taskName"),className:"cursor-pointer hover:bg-slate-200/50 font-bold text-slate-700 w-[220px] px-3 py-4 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1 h-4 bg-slate-600 rounded-full"}),(0,s.jsx)("span",{className:"text-base font-bold",children:"Task Name"}),(0,s.jsx)(y,{field:"taskName"})]})}),(0,s.jsx)(Z,{onClick:()=>g("cohort"),className:"cursor-pointer hover:bg-slate-200/50 font-bold text-slate-700 w-[90px] px-3 py-4 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-base font-bold",children:"Cohort"}),(0,s.jsx)(y,{field:"cohort"})]})}),[1,2,3,4,5].map(e=>{let t=(e=>{switch(e){case 1:return{icon:"\uD83E\uDD47",text:"#1"};case 2:return{icon:"\uD83E\uDD48",text:"#2"};case 3:return{icon:"\uD83E\uDD49",text:"#3"};case 4:return{icon:"",text:"#4"};case 5:return{icon:"",text:"#5"};default:return{icon:"",text:"#".concat(e)}}})(e);return(0,s.jsx)(Z,{className:"font-bold text-slate-700 text-center w-[130px] px-2 py-4 bg-gradient-to-b from-slate-50 to-slate-100",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[t.icon&&(0,s.jsx)("div",{className:"text-2xl",children:t.icon}),(0,s.jsx)("div",{className:"text-sm font-bold text-slate-600",children:t.text})]})},e)})]})}),(0,s.jsx)($,{children:j.map((e,t)=>{let a=x(e);return(0,s.jsxs)(q,{className:"\n                      ".concat(t%2==0?"bg-white":"bg-slate-50/30","\n                      hover:bg-blue-50/50 transition-all duration-200 border-b border-slate-200/60\n                    "),children:[(0,s.jsx)(ee,{className:"font-medium px-3 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"font-bold text-slate-800 text-base leading-tight",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 rounded-md font-medium capitalize",children:e.taskType.replace("_"," ")}),(0,s.jsx)("div",{className:"w-1 h-1 bg-slate-400 rounded-full"}),(0,s.jsx)("span",{className:"font-semibold text-blue-600",children:e.organ})]})]})}),(0,s.jsx)(ee,{className:"font-medium px-3 py-3",children:(0,s.jsx)(ea,{variant:"outline",className:"text-sm px-2 py-1 bg-emerald-50 text-emerald-700 border-emerald-200 font-semibold",children:e.cohort})}),[1,2,3,4,5].map(t=>{var r;let l=a[t-1];if(!l)return(0,s.jsx)(ee,{className:"text-center px-2 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 py-2",children:[(0,s.jsx)("div",{className:"text-sm text-slate-400 font-medium",children:"—"}),(0,s.jsx)("div",{className:"text-sm text-slate-300 bg-slate-50 px-2 py-1 rounded border",children:"No Data"})]})},t);let i=n.find(t=>t.modelId===l.name&&t.taskId===e.id),o=null!==(r=null==i?void 0:i.rankMean)&&void 0!==r?r:-1/0,d=v(o,t);return(0,s.jsx)(ee,{className:"text-center px-2 py-3",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:"text-sm font-bold text-slate-700 truncate max-w-[120px]",children:l.name}),(0,s.jsx)("div",{className:"\n                              text-base font-mono font-bold px-3 py-2 rounded-lg min-w-[80px] border-2 transition-all duration-200\n                              ".concat("gold"===d?"text-amber-800 bg-gradient-to-br from-amber-50 to-yellow-100 border-amber-300 shadow-sm":"","\n                              ").concat("silver"===d?"text-slate-700 bg-gradient-to-br from-slate-50 to-gray-100 border-slate-300 shadow-sm":"","\n                              ").concat("bronze"===d?"text-orange-800 bg-gradient-to-br from-orange-50 to-amber-100 border-orange-300 shadow-sm":"","\n                              ").concat("standard"===d?"text-blue-700 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200":"","\n                              ").concat("none"===d?"text-slate-500 bg-slate-50 border-slate-200":"","\n                            "),children:"number"==typeof o?o.toFixed(3):"N/A"})]})},t)})]},e.id)})})]})})]})]})}var ei=a(5565);let eo={title:"CVPR25 MedSegFM: Interactive Segmentation-All Data Track",description:"Foundation Models for Interactive 3D Biomedical Image Segmentation",icons:{icon:"images/favicon.ico",match:{icon:"/images/match_logo_1.jpg",link:"https://github.com/JunMa11/CVPR-MedSegFMCompetition"},uoft:{icon:"/images/uoft.jpg",link:"https://www.utoronto.ca/"}},github:{link:"https://github.com/JunMa11/CVPR-MedSegFMCompetition"}};function ed(){let e="/model-bench",t=eo.title,a=eo.description,l=eo.icons.match.icon,n=eo.icons.match.link,i=eo.github.link,o=eo.icons.uoft.icon,d=eo.icons.uoft.link,c=t=>e?"".concat(e).concat(t):t,[m,x]=(0,r.useState)(!1);function h(){return(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"bg-white-50 touch-target group h-14 w-14 rounded-full transition-all duration-300 hover:scale-105 hover:shadow-md",title:"View GitHub Repository",children:(0,s.jsx)(B.hL4,{className:"transition-filter h-[100%] w-[100%] text-gray-800 brightness-95 contrast-125 hover:contrast-100"})}),(0,s.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"bg-white-50 touch-target group relative h-14 w-14 items-center justify-center rounded-full transition-all duration-300 hover:scale-105 hover:shadow-md",title:"View GitHub Repository",children:(0,s.jsx)(ei.default,{src:c(l),alt:"match icon",fill:!0,className:"transition-filter rounded-full object-cover brightness-95 contrast-125 group-hover:contrast-125"})}),(0,s.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",title:"Visit UofT",className:"bg-white-50 touch-target group relative h-14 w-[150px] overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-md",children:(0,s.jsx)(ei.default,{src:c(o),alt:"uoft logo",fill:!0,className:"transition-filter object-contain brightness-95 contrast-125 group-hover:contrast-125"})})]})}return(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth;x(e>=1200&&e<1600)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)("header",{className:"mb-4 border-b border-gray-100 pb-4 sm:mb-6 sm:pb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:hidden",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("h1",{className:"text-left text-3xl font-semibold tracking-tight",children:t})}),(0,s.jsx)("p",{className:"text-left text-sm leading-relaxed text-muted-foreground",children:a})]}),h()]}),(0,s.jsxs)("div",{className:"hidden items-center justify-between gap-4 sm:flex",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("h1",{className:"text-left text-3xl font-semibold tracking-tight",children:t})}),(0,s.jsx)("p",{className:"text-sm leading-tight text-muted-foreground",children:a})]}),h()]})]})}let ec={OVERVIEW:"overview",OVERVIEW_2:"overview_2",LEADERBOARD:"leaderboard",PERFORMANCE:"performance"};function em(){let[e,t]=(0,r.useState)([]);return(0,s.jsxs)("div",{className:"container mx-auto max-w-[1600px] py-3 sm:py-6",children:[(0,s.jsx)(ed,{}),(0,s.jsxs)(d,{defaultValue:ec.OVERVIEW,children:[(0,s.jsx)("div",{className:"w-full overflow-x-auto",children:(0,s.jsx)(c,{className:"flex w-auto min-w-max space-x-0.5 rounded-xl border border-gray-100 bg-gray-50",children:(0,s.jsx)(m,{value:ec.OVERVIEW,className:"whitespace-nowrap rounded-lg px-2 py-1.5 text-gray-600 transition-all hover:bg-gray-100/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm",children:(0,s.jsx)("span",{className:"text-sm font-medium",children:"Overview"})})})}),(0,s.jsxs)(x,{value:ec.OVERVIEW,className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 lg:grid-cols-2",children:[(0,s.jsx)(L,{chartType:"taskType"}),(0,s.jsx)(O,{selectedMetrics:e})]}),(0,s.jsxs)("div",{className:"mb-4 grid grid-cols-1 gap-3 sm:mb-6 sm:grid-cols-2 sm:gap-6 lg:grid-cols-4",children:[(0,s.jsx)(C,{}),(0,s.jsx)(M,{}),(0,s.jsx)(E,{}),(0,s.jsx)(Y,{value:e,onChange:t})]}),(0,s.jsx)("div",{className:"grid w-full",children:(0,s.jsx)(D,{selectedMetrics:e})})]}),(0,s.jsxs)(x,{value:ec.OVERVIEW_2,className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 lg:grid-cols-2",children:[(0,s.jsx)(L,{chartType:"taskType"}),(0,s.jsx)(O,{selectedMetrics:e})]}),(0,s.jsxs)("div",{className:"mb-4 grid grid-cols-1 gap-3 sm:mb-6 sm:grid-cols-2 sm:gap-6 lg:grid-cols-4",children:[(0,s.jsx)(C,{}),(0,s.jsx)(M,{}),(0,s.jsx)(E,{}),(0,s.jsx)(Y,{value:e,onChange:t})]}),(0,s.jsx)("div",{className:"grid w-full",children:(0,s.jsx)(D,{selectedMetrics:e})})]}),(0,s.jsx)(x,{value:ec.LEADERBOARD,children:(0,s.jsx)("div",{className:"my-4 sm:my-6",children:(0,s.jsx)(en,{})})}),(0,s.jsx)(x,{value:ec.PERFORMANCE,className:"space-y-4 sm:space-y-6",children:(0,s.jsx)(J,{})})]}),(0,s.jsx)(Q,{})]})}},8335:(e,t,a)=>{Promise.resolve().then(a.bind(a,3690))}},e=>{var t=t=>e(e.s=t);e.O(0,[711,752,699,441,587,358],()=>t(8335)),_N_E=e.O()}]);